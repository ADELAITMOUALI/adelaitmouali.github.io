@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@100..800&family=Oxanium:wght@200..800&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --font-sans: 'JetBrains Mono', monospace;
  --font-display: 'Oxanium', sans-serif;
  
  /* Core Dark Theme */
  --background: 240 10% 4%;
  --foreground: 210 40% 98%;
  --card: 240 10% 6%;
  --card-foreground: 210 40% 98%;
  --popover: 240 10% 6%;
  --popover-foreground: 210 40% 98%;
  --muted: 240 5% 12%;
  --muted-foreground: 240 5% 65%;
  --border: 240 5% 15%;
  --input: 240 5% 15%;
  --radius: 0.75rem;

  /* Default Active Domain (Neutral) */
  --domain-color: 180 100% 50%;
}

/* Zone-Based Theming */
.theme-red { --domain-color: 350 85% 60%; }
.theme-blue { --domain-color: 215 85% 60%; }
.theme-neutral { --domain-color: 180 85% 50%; }

@layer base {
  body {
    @apply bg-background text-foreground antialiased selection:bg-domain-alpha-20 selection:text-domain;
    font-family: var(--font-sans);
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-display);
    @apply tracking-tight;
  }
}

@layer utilities {
  .font-display { font-family: var(--font-display); }
  .font-body { font-family: var(--font-sans); }
  
  /* Dynamic Domain Colors */
  .text-domain { color: hsl(var(--domain-color)); }
  .border-domain { border-color: hsl(var(--domain-color)); }
  .border-domain-alpha-10 { border-color: hsl(var(--domain-color) / 0.1); }
  .border-domain-alpha-20 { border-color: hsl(var(--domain-color) / 0.2); }
  .border-domain-alpha-50 { border-color: hsl(var(--domain-color) / 0.5); }
  
  .bg-domain { background-color: hsl(var(--domain-color)); }
  .bg-domain-alpha-5 { background-color: hsl(var(--domain-color) / 0.05); }
  .bg-domain-alpha-10 { background-color: hsl(var(--domain-color) / 0.1); }
  .bg-domain-alpha-20 { background-color: hsl(var(--domain-color) / 0.2); }
  
  .shadow-domain { box-shadow: 0 4px 20px hsl(var(--domain-color) / 0.15); }
  .shadow-domain-glow { box-shadow: 0 0 30px hsl(var(--domain-color) / 0.4); }
  .shadow-domain-inner { box-shadow: inset 0 0 20px hsl(var(--domain-color) / 0.1); }

  .from-domain-alpha-10 { --tw-gradient-from: hsl(var(--domain-color) / 0.1) var(--tw-gradient-from-position); }
  .from-domain-alpha-20 { --tw-gradient-from: hsl(var(--domain-color) / 0.2) var(--tw-gradient-from-position); }
  
  /* Animations */
  .animate-spin-slow {
    animation: spin 8s linear infinite;
  }
}

/* Background Patterns & Elements */
.bg-grid-pattern {
  background-size: 40px 40px;
  background-image:
    linear-gradient(to right, hsl(var(--domain-color) / 0.03) 1px, transparent 1px),
    linear-gradient(to bottom, hsl(var(--domain-color) / 0.03) 1px, transparent 1px);
  mask-image: radial-gradient(ellipse at 50% 0%, black 10%, transparent 80%);
  transition: all 0.7s ease;
}

.ambient-glow {
  position: fixed;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 100vw;
  height: 80vh;
  background: radial-gradient(circle at 50% -20%, hsl(var(--domain-color) / 0.08) 0%, transparent 70%);
  pointer-events: none;
  z-index: 0;
  transition: background 0.7s ease;
}
